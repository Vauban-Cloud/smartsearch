import{c as ie,a as v,h as w,b as Ue,af as Nt,g as Te,ap as jt,r as L,aq as Ye,A as te,m as Qt,w as oe,v as Wt,ac as xt,d as Pe,ar as Ut,p as Yt,O as Xt,P as Gt,C as Jt,R as Le,as as Zt,at as el,e as ae,D as tl,au as ll,E as nl,F as ul,n as al,av as Be,T as ol,x as je,S as il,aw as rl,y as xe,G as sl}from"./index-CdJckQ9K.js";import{u as cl,s as dl,v as fl,r as vt,t as vl,a as ml,J as hl,y as Sl,b as gl,z as yl,A as bl,B as wl,d as Cl,C as kl,x as mt,K as xl,D as ql,L as ht,E as St,M as Vl,N as pl,h as _l,O as Al,F as Bl,P as Ol,R as Tl,S as El,T as qt,U as Xe,V as Vt,W as pt,n as Fl,X as zl,Y as gt,Z as Il,_ as yt,q as Ml}from"./QDialog-BJyHsTwJ.js";import{u as Ge,a as Je}from"./use-dark-C_aq5NfF.js";const Ll=ie({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:o}){const n=v(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>w("div",{class:n.value},Ue(o.default))}}),Rl=ie({name:"QItem",props:{...Ge,...Nt,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:o,emit:n}){const{proxy:{$q:d}}=Te(),C=Je(e,d),{hasLink:a,linkAttrs:p,linkClass:S,linkTag:m,navigateOnClick:A}=jt(),c=L(null),h=L(null),y=v(()=>e.clickable===!0||a.value===!0||e.tag==="label"),x=v(()=>e.disable!==!0&&y.value===!0),B=v(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(C.value===!0?" q-item--dark":"")+(a.value===!0&&e.active===null?S.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(x.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),g=v(()=>e.insetLevel===void 0?null:{["padding"+(d.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function f(_){x.value===!0&&(h.value!==null&&(_.qKeyEvent!==!0&&document.activeElement===c.value?h.value.focus():document.activeElement===h.value&&c.value.focus()),A(_))}function E(_){if(x.value===!0&&Ye(_,[13,32])===!0){te(_),_.qKeyEvent=!0;const F=new MouseEvent("click",_);F.qKeyEvent=!0,c.value.dispatchEvent(F)}n("keyup",_)}function H(){const _=Qt(o.default,[]);return x.value===!0&&_.unshift(w("div",{class:"q-focus-helper",tabindex:-1,ref:h})),_}return()=>{const _={ref:c,class:B.value,style:g.value,role:"listitem",onClick:f,onKeyup:E};return x.value===!0?(_.tabindex=e.tabindex||"0",Object.assign(_,p.value)):y.value===!0&&(_["aria-disabled"]="true"),w(m.value,_,H())}}}),Pl=ie({name:"QMenu",inheritAttrs:!1,props:{...hl,...ml,...Ge,...vl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:vt},self:{type:String,validator:vt},offset:{type:Array,validator:fl},scrollTarget:dl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...cl,"click","escapeKey"],setup(e,{slots:o,emit:n,attrs:d}){let C=null,a,p,S;const m=Te(),{proxy:A}=m,{$q:c}=A,h=L(null),y=L(!1),x=v(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),B=Je(e,c),{registerTick:g,removeTick:f}=Sl(),{registerTimeout:E}=gl(),{transitionProps:H,transitionStyle:_}=yl(e),{localScrollTarget:F,changeScrollEvent:he,unconfigureScrollTarget:I}=bl(e,k),{anchorEl:N,canShow:Z}=wl({showing:y}),{hide:le}=Cl({showing:y,canShow:Z,handleShow:ce,handleHide:l,hideOnRouteChange:x,processOnMount:!0}),{showPortal:U,hidePortal:re,renderPortal:$}=kl(m,h,R,"menu"),ee={anchorEl:N,innerRef:h,onClickOutside(u){if(e.persistent!==!0&&y.value===!0)return le(u),(u.type==="touchstart"||u.target.classList.contains("q-dialog__backdrop"))&&te(u),!0}},se=v(()=>mt(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),ne=v(()=>e.cover===!0?se.value:mt(e.self||"top start",c.lang.rtl)),Q=v(()=>(e.square===!0?" q-menu--square":"")+(B.value===!0?" q-menu--dark q-dark":"")),Ve=v(()=>e.autoClose===!0?{onClick:O}:{}),ue=v(()=>y.value===!0&&e.persistent!==!0);oe(ue,u=>{u===!0?(xl(V),ql(ee)):(ht(V),St(ee))});function Y(){Ol(()=>{let u=h.value;u&&u.contains(document.activeElement)!==!0&&(u=u.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.querySelector("[autofocus], [data-autofocus]")||u,u.focus({preventScroll:!0}))})}function ce(u){if(C=e.noRefocus===!1?document.activeElement:null,Vl(M),U(),k(),a=void 0,u!==void 0&&(e.touchPosition||e.contextMenu)){const D=Wt(u);if(D.left!==void 0){const{top:X,left:Se}=N.value.getBoundingClientRect();a={left:D.left-Se,top:D.top-X}}}p===void 0&&(p=oe(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,b)),e.noFocus!==!0&&document.activeElement.blur(),g(()=>{b(),e.noFocus!==!0&&Y()}),E(()=>{c.platform.is.ios===!0&&(S=e.autoClose,h.value.click()),b(),U(!0),n("show",u)},e.transitionDuration)}function l(u){f(),re(),i(!0),C!==null&&(u===void 0||u.qClickOutside!==!0)&&(((u&&u.type.indexOf("key")===0?C.closest('[tabindex]:not([tabindex^="-"])'):void 0)||C).focus(),C=null),E(()=>{re(!0),n("hide",u)},e.transitionDuration)}function i(u){a=void 0,p!==void 0&&(p(),p=void 0),(u===!0||y.value===!0)&&(pl(M),I(),St(ee),ht(V)),u!==!0&&(C=null)}function k(){(N.value!==null||e.scrollTarget!==void 0)&&(F.value=_l(N.value,e.scrollTarget),he(F.value,b))}function O(u){S!==!0?(Al(A,u),n("click",u)):S=!1}function M(u){ue.value===!0&&e.noFocus!==!0&&Ut(h.value,u.target)!==!0&&Y()}function V(u){n("escapeKey"),le(u)}function b(){Bl({targetEl:h.value,offset:e.offset,anchorEl:N.value,anchorOrigin:se.value,selfOrigin:ne.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function R(){return w(xt,H.value,()=>y.value===!0?w("div",{role:"menu",...d,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+Q.value,d.class],style:[d.style,_.value],...Ve.value},Ue(o.default)):null)}return Pe(i),Object.assign(A,{focus:Y,updatePosition:b}),$}});function bt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const o=parseInt(e,10);return isNaN(o)?0:o}const Zl=Yt({name:"close-popup",beforeMount(e,{value:o}){const n={depth:bt(o),handler(d){n.depth!==0&&setTimeout(()=>{const C=Tl(e);C!==void 0&&El(C,d,n.depth)})},handlerKey(d){Ye(d,13)===!0&&n.handler(d)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:o,oldValue:n}){o!==n&&(e.__qclosepopup.depth=bt(o))},beforeUnmount(e){const o=e.__qclosepopup;e.removeEventListener("click",o.handler),e.removeEventListener("keyup",o.handlerKey),delete e.__qclosepopup}}),Hl=ie({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:o}){const n=v(()=>parseInt(e.lines,10)),d=v(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),C=v(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>w("div",{style:C.value,class:d.value},Ue(o.default))}}),en=ie({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:o,emit:n}){let d=!1,C,a,p=null,S=null,m,A;function c(){C&&C(),C=null,d=!1,p!==null&&(clearTimeout(p),p=null),S!==null&&(clearTimeout(S),S=null),a!==void 0&&a.removeEventListener("transitionend",m),m=null}function h(g,f,E){f!==void 0&&(g.style.height=`${f}px`),g.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,d=!0,C=E}function y(g,f){g.style.overflowY=null,g.style.height=null,g.style.transition=null,c(),f!==A&&n(f)}function x(g,f){let E=0;a=g,d===!0?(c(),E=g.offsetHeight===g.scrollHeight?0:void 0):(A="hide",g.style.overflowY="hidden"),h(g,E,f),p=setTimeout(()=>{p=null,g.style.height=`${g.scrollHeight}px`,m=H=>{S=null,(Object(H)!==H||H.target===g)&&y(g,"show")},g.addEventListener("transitionend",m),S=setTimeout(m,e.duration*1.1)},100)}function B(g,f){let E;a=g,d===!0?c():(A="show",g.style.overflowY="hidden",E=g.scrollHeight),h(g,E,f),p=setTimeout(()=>{p=null,g.style.height=0,m=H=>{S=null,(Object(H)!==H||H.target===g)&&y(g,"hide")},g.addEventListener("transitionend",m),S=setTimeout(m,e.duration*1.1)},100)}return Pe(()=>{d===!0&&c()}),()=>w(xt,{css:!1,appear:e.appear,onEnter:x,onLeave:B},o.default)}}),Dl=ie({name:"QField",inheritAttrs:!1,props:{...Xe,tag:{type:String,default:"label"}},emits:qt,setup(){return Vt(pt({tagProp:!0}))}}),Kl={xs:8,sm:10,md:14,lg:20,xl:24},$l=ie({name:"QChip",props:{...Ge,...Xt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:n}){const{proxy:{$q:d}}=Te(),C=Je(e,d),a=Gt(e,Kl),p=v(()=>e.selected===!0||e.icon!==void 0),S=v(()=>e.selected===!0?e.iconSelected||d.iconSet.chip.selected:e.icon),m=v(()=>e.iconRemove||d.iconSet.chip.remove),A=v(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=v(()=>{const f=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(f?` text-${f} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(A.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(C.value===!0?" q-chip--dark q-dark":"")}),h=v(()=>{const f=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},E={...f,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||d.lang.label.remove};return{chip:f,remove:E}});function y(f){f.keyCode===13&&x(f)}function x(f){e.disable||(n("update:selected",!e.selected),n("click",f))}function B(f){(f.keyCode===void 0||f.keyCode===13)&&(te(f),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function g(){const f=[];A.value===!0&&f.push(w("div",{class:"q-focus-helper"})),p.value===!0&&f.push(w(Le,{class:"q-chip__icon q-chip__icon--left",name:S.value}));const E=e.label!==void 0?[w("div",{class:"ellipsis"},[e.label])]:void 0;return f.push(w("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Zt(o.default,E))),e.iconRight&&f.push(w(Le,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&f.push(w(Le,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value,...h.value.remove,onClick:B,onKeyup:B})),f}return()=>{if(e.modelValue===!1)return;const f={class:c.value,style:a.value};return A.value===!0&&Object.assign(f,h.value.chip,{onClick:x,onKeyup:y}),Jt("div",f,g(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[el,e.ripple]])}}});let Re=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const o=document.createElement("div");Object.assign(o.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,Re=e.scrollLeft>=0,e.remove()}const W=1e3,Nl=["start","center","end","start-force","center-force","end-force"],_t=Array.prototype.filter,jl=window.getComputedStyle(document.body).overflowAnchor===void 0?al:function(e,o){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];_t.call(n,C=>C.dataset&&C.dataset.qVsAnchor!==void 0).forEach(C=>{delete C.dataset.qVsAnchor});const d=n[o];d&&d.dataset&&(d.dataset.qVsAnchor="")}))};function qe(e,o){return e+o}function Qe(e,o,n,d,C,a,p,S){const m=e===window?document.scrollingElement||document.documentElement:e,A=C===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-p-S,scrollMaxSize:0,offsetStart:-p,offsetEnd:-S};if(C===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=m.scrollLeft,c.scrollViewSize+=m.clientWidth),c.scrollMaxSize=m.scrollWidth,a===!0&&(c.scrollStart=(Re===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=m.scrollTop,c.scrollViewSize+=m.clientHeight),c.scrollMaxSize=m.scrollHeight),n!==null)for(let h=n.previousElementSibling;h!==null;h=h.previousElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=h[A]);if(d!==null)for(let h=d.nextElementSibling;h!==null;h=h.nextElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=h[A]);if(o!==e){const h=m.getBoundingClientRect(),y=o.getBoundingClientRect();C===!0?(c.offsetStart+=y.left-h.left,c.offsetEnd-=y.width):(c.offsetStart+=y.top-h.top,c.offsetEnd-=y.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function wt(e,o,n,d){o==="end"&&(o=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(d===!0&&(o=(Re===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):n===!0?(d===!0&&(o=(Re===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function Oe(e,o,n,d){if(n>=d)return 0;const C=o.length,a=Math.floor(n/W),p=Math.floor((d-1)/W)+1;let S=e.slice(a,p).reduce(qe,0);return n%W!==0&&(S-=o.slice(a*W,n).reduce(qe,0)),d%W!==0&&d!==C&&(S-=o.slice(d,p*W).reduce(qe,0)),S}const Ql={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ct={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ql};function Wl({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:n,virtualScrollItemSizeComputed:d}){const C=Te(),{props:a,emit:p,proxy:S}=C,{$q:m}=S;let A,c,h,y=[],x;const B=L(0),g=L(0),f=L({}),E=L(null),H=L(null),_=L(null),F=L({from:0,to:0}),he=v(()=>a.tableColspan!==void 0?a.tableColspan:100);d===void 0&&(d=v(()=>a.virtualScrollItemSize));const I=v(()=>d.value+";"+a.virtualScrollHorizontal),N=v(()=>I.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);oe(N,()=>{Q()}),oe(I,Z);function Z(){ne(c,!0)}function le(l){ne(l===void 0?c:l)}function U(l,i){const k=o();if(k==null||k.nodeType===8)return;const O=Qe(k,n(),E.value,H.value,a.virtualScrollHorizontal,m.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);h!==O.scrollViewSize&&Q(O.scrollViewSize),$(k,O,Math.min(e.value-1,Math.max(0,parseInt(l,10)||0)),0,Nl.indexOf(i)!==-1?i:c!==-1&&l>c?"end":"start")}function re(){const l=o();if(l==null||l.nodeType===8)return;const i=Qe(l,n(),E.value,H.value,a.virtualScrollHorizontal,m.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),k=e.value-1,O=i.scrollMaxSize-i.offsetStart-i.offsetEnd-g.value;if(A===i.scrollStart)return;if(i.scrollMaxSize<=0){$(l,i,0,0);return}h!==i.scrollViewSize&&Q(i.scrollViewSize),ee(F.value.from);const M=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(x[k],i.scrollViewSize/2));if(M>0&&Math.ceil(i.scrollStart)>=M){$(l,i,k,i.scrollMaxSize-i.offsetEnd-y.reduce(qe,0));return}let V=0,b=i.scrollStart-i.offsetStart,R=b;if(b<=O&&b+i.scrollViewSize>=B.value)b-=B.value,V=F.value.from,R=b;else for(let u=0;b>=y[u]&&V<k;u++)b-=y[u],V+=W;for(;b>0&&V<k;)b-=x[V],b>-i.scrollViewSize?(V++,R=b):R=x[V]+b;$(l,i,V,R)}function $(l,i,k,O,M){const V=typeof M=="string"&&M.indexOf("-force")!==-1,b=V===!0?M.replace("-force",""):M,R=b!==void 0?b:"start";let u=Math.max(0,k-f.value[R]),D=u+f.value.total;D>e.value&&(D=e.value,u=Math.max(0,D-f.value.total)),A=i.scrollStart;const X=u!==F.value.from||D!==F.value.to;if(X===!1&&b===void 0){ue(k);return}const{activeElement:Se}=document,G=_.value;X===!0&&G!==null&&G!==Se&&G.contains(Se)===!0&&(G.addEventListener("focusout",se),setTimeout(()=>{G!==null&&G.removeEventListener("focusout",se)})),jl(G,k-u);const Ee=b!==void 0?x.slice(u,k).reduce(qe,0):0;if(X===!0){const de=D>=F.value.from&&u<=F.value.to?F.value.to:D;F.value={from:u,to:de},B.value=Oe(y,x,0,u),g.value=Oe(y,x,D,e.value),requestAnimationFrame(()=>{F.value.to!==D&&A===i.scrollStart&&(F.value={from:F.value.from,to:D},g.value=Oe(y,x,D,e.value))})}requestAnimationFrame(()=>{if(A!==i.scrollStart)return;X===!0&&ee(u);const de=x.slice(u,k).reduce(qe,0),fe=de+i.offsetStart+B.value,Fe=fe+x[k];let pe=fe+O;if(b!==void 0){const He=de-Ee,_e=i.scrollStart+He;pe=V!==!0&&_e<fe&&Fe<_e+i.scrollViewSize?_e:b==="end"?Fe-i.scrollViewSize:fe-(b==="start"?0:Math.round((i.scrollViewSize-x[k])/2))}A=pe,wt(l,pe,a.virtualScrollHorizontal,m.lang.rtl),ue(k)})}function ee(l){const i=_.value;if(i){const k=_t.call(i.children,u=>u.classList&&u.classList.contains("q-virtual-scroll--skip")===!1),O=k.length,M=a.virtualScrollHorizontal===!0?u=>u.getBoundingClientRect().width:u=>u.offsetHeight;let V=l,b,R;for(let u=0;u<O;){for(b=M(k[u]),u++;u<O&&k[u].classList.contains("q-virtual-scroll--with-prev")===!0;)b+=M(k[u]),u++;R=b-x[V],R!==0&&(x[V]+=R,y[Math.floor(V/W)]+=R),V++}}}function se(){_.value!==null&&_.value!==void 0&&_.value.focus()}function ne(l,i){const k=1*d.value;(i===!0||Array.isArray(x)===!1)&&(x=[]);const O=x.length;x.length=e.value;for(let V=e.value-1;V>=O;V--)x[V]=k;const M=Math.floor((e.value-1)/W);y=[];for(let V=0;V<=M;V++){let b=0;const R=Math.min((V+1)*W,e.value);for(let u=V*W;u<R;u++)b+=x[u];y.push(b)}c=-1,A=void 0,B.value=Oe(y,x,0,F.value.from),g.value=Oe(y,x,F.value.to,e.value),l>=0?(ee(F.value.from),ae(()=>{U(l)})):Y()}function Q(l){if(l===void 0&&typeof window<"u"){const b=o();b!=null&&b.nodeType!==8&&(l=Qe(b,n(),E.value,H.value,a.virtualScrollHorizontal,m.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}h=l;const i=parseFloat(a.virtualScrollSliceRatioBefore)||0,k=parseFloat(a.virtualScrollSliceRatioAfter)||0,O=1+i+k,M=l===void 0||l<=0?1:Math.ceil(l/d.value),V=Math.max(1,M,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/O));f.value={total:Math.ceil(V*O),start:Math.ceil(V*i),center:Math.ceil(V*(.5+i)),end:Math.ceil(V*(1+i)),view:M}}function Ve(l,i){const k=a.virtualScrollHorizontal===!0?"width":"height",O={["--q-virtual-scroll-item-"+k]:d.value+"px"};return[l==="tbody"?w(l,{class:"q-virtual-scroll__padding",key:"before",ref:E},[w("tr",[w("td",{style:{[k]:`${B.value}px`,...O},colspan:he.value})])]):w(l,{class:"q-virtual-scroll__padding",key:"before",ref:E,style:{[k]:`${B.value}px`,...O}}),w(l,{class:"q-virtual-scroll__content",key:"content",ref:_,tabindex:-1},i.flat()),l==="tbody"?w(l,{class:"q-virtual-scroll__padding",key:"after",ref:H},[w("tr",[w("td",{style:{[k]:`${g.value}px`,...O},colspan:he.value})])]):w(l,{class:"q-virtual-scroll__padding",key:"after",ref:H,style:{[k]:`${g.value}px`,...O}})]}function ue(l){c!==l&&(a.onVirtualScroll!==void 0&&p("virtualScroll",{index:l,from:F.value.from,to:F.value.to-1,direction:l<c?"decrease":"increase",ref:S}),c=l)}Q();const Y=tl(re,m.platform.is.ios===!0?120:35);ll(()=>{Q()});let ce=!1;return nl(()=>{ce=!0}),ul(()=>{if(ce!==!0)return;const l=o();A!==void 0&&l!==void 0&&l!==null&&l.nodeType!==8?wt(l,A,a.virtualScrollHorizontal,m.lang.rtl):U(c)}),Pe(()=>{Y.cancel()}),Object.assign(S,{scrollTo:U,reset:Z,refresh:le}),{virtualScrollSliceRange:F,virtualScrollSliceSizeComputed:f,setVirtualScrollSize:Q,onVirtualScrollEvt:Y,localResetVirtualScroll:ne,padVirtualScroll:Ve,scrollTo:U,reset:Z,refresh:le}}const kt=e=>["add","add-unique","toggle"].includes(e),Ul=".*+?^${}()|[]\\",Yl=Object.keys(Xe);function We(e,o){if(typeof e=="function")return e;const n=e!==void 0?e:o;return d=>d!==null&&typeof d=="object"&&n in d?d[n]:d}const tn=ie({name:"QSelect",inheritAttrs:!1,props:{...Ct,...Fl,...Xe,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:kt},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Ct.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...qt,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:o,emit:n}){const{proxy:d}=Te(),{$q:C}=d,a=L(!1),p=L(!1),S=L(-1),m=L(""),A=L(!1),c=L(!1);let h=null,y=null,x,B,g,f=null,E,H,_,F;const he=L(null),I=L(null),N=L(null),Z=L(null),le=L(null),U=zl(e),re=Il(rt),$=v(()=>Array.isArray(e.options)?e.options.length:0),ee=v(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:se,virtualScrollSliceSizeComputed:ne,localResetVirtualScroll:Q,padVirtualScroll:Ve,onVirtualScrollEvt:ue,scrollTo:Y,setVirtualScrollSize:ce}=Wl({virtualScrollLength:$,getVirtualScrollTarget:Tt,getVirtualScrollEl:ot,virtualScrollItemSizeComputed:ee}),l=pt(),i=v(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,r=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const s=e.mapOptions===!0&&x!==void 0?x:[],q=r.map(z=>Ot(z,s));return e.modelValue===null&&t===!0?q.filter(z=>z!==null):q}return r}),k=v(()=>{const t={};return Yl.forEach(r=>{const s=e[r];s!==void 0&&(t[r]=s)}),t}),O=v(()=>e.optionsDark===null?l.isDark.value:e.optionsDark),M=v(()=>gt(i.value)),V=v(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||i.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),b=v(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),R=v(()=>$.value===0),u=v(()=>i.value.map(t=>j.value(t)).join(", ")),D=v(()=>e.displayValue!==void 0?e.displayValue:u.value),X=v(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Se=v(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||i.value.some(X.value))),G=v(()=>l.focused.value===!0?e.tabindex:-1),Ee=v(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${l.targetUid.value}_lb`};return S.value>=0&&(t["aria-activedescendant"]=`${l.targetUid.value}_${S.value}`),t}),de=v(()=>({id:`${l.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),fe=v(()=>i.value.map((t,r)=>({index:r,opt:t,html:X.value(t),selected:!0,removeAtIndex:Bt,toggleOption:ve,tabindex:G.value}))),Fe=v(()=>{if($.value===0)return[];const{from:t,to:r}=se.value;return e.options.slice(t,r).map((s,q)=>{const z=ge.value(s)===!0,T=Ke(s)===!0,K=t+q,P={clickable:!0,active:T,activeClass:_e.value,manualFocus:!0,focused:!1,disable:z,tabindex:-1,dense:e.optionsDense,dark:O.value,role:"option","aria-selected":T===!0?"true":"false",id:`${l.targetUid.value}_${K}`,onClick:()=>{ve(s)}};return z!==!0&&(S.value===K&&(P.focused=!0),C.platform.is.desktop===!0&&(P.onMousemove=()=>{a.value===!0&&ye(K)})),{index:K,opt:s,html:X.value(s),label:j.value(s),selected:P.active,focused:P.focused,toggleOption:ve,setOptionIndex:ye,itemProps:P}})}),pe=v(()=>e.dropdownIcon!==void 0?e.dropdownIcon:C.iconSet.arrow.dropdown),He=v(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),_e=v(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),J=v(()=>We(e.optionValue,"value")),j=v(()=>We(e.optionLabel,"label")),ge=v(()=>We(e.optionDisable,"disable")),ze=v(()=>i.value.map(J.value)),At=v(()=>{const t={onInput:rt,onChange:re,onKeydown:at,onKeyup:nt,onKeypress:ut,onFocus:tt,onClick(r){B===!0&&xe(r)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=re,t});oe(i,t=>{x=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&l.innerLoading.value!==!0&&(p.value!==!0&&a.value!==!0||M.value!==!0)&&(g!==!0&&ke(),(p.value===!0||a.value===!0)&&be(""))},{immediate:!0}),oe(()=>e.fillInput,ke),oe(a,$e),oe($,$t);function Ze(t){return e.emitValue===!0?J.value(t):t}function De(t){if(t!==-1&&t<i.value.length)if(e.multiple===!0){const r=e.modelValue.slice();n("remove",{index:t,value:r.splice(t,1)[0]}),n("update:modelValue",r)}else n("update:modelValue",null)}function Bt(t){De(t),l.focus()}function et(t,r){const s=Ze(t);if(e.multiple!==!0){e.fillInput===!0&&Ae(j.value(t),!0,!0),n("update:modelValue",s);return}if(i.value.length===0){n("add",{index:0,value:s}),n("update:modelValue",e.multiple===!0?[s]:s);return}if(r===!0&&Ke(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const q=e.modelValue.slice();n("add",{index:q.length,value:s}),q.push(s),n("update:modelValue",q)}function ve(t,r){if(l.editable.value!==!0||t===void 0||ge.value(t)===!0)return;const s=J.value(t);if(e.multiple!==!0){r!==!0&&(Ae(e.fillInput===!0?j.value(t):"",!0,!0),me()),I.value!==null&&I.value.focus(),(i.value.length===0||Be(J.value(i.value[0]),s)!==!0)&&n("update:modelValue",e.emitValue===!0?s:t);return}if((B!==!0||A.value===!0)&&l.focus(),tt(),i.value.length===0){const T=e.emitValue===!0?s:t;n("add",{index:0,value:T}),n("update:modelValue",e.multiple===!0?[T]:T);return}const q=e.modelValue.slice(),z=ze.value.findIndex(T=>Be(T,s));if(z!==-1)n("remove",{index:z,value:q.splice(z,1)[0]});else{if(e.maxValues!==void 0&&q.length>=e.maxValues)return;const T=e.emitValue===!0?s:t;n("add",{index:q.length,value:T}),q.push(T)}n("update:modelValue",q)}function ye(t){if(C.platform.is.desktop!==!0)return;const r=t!==-1&&t<$.value?t:-1;S.value!==r&&(S.value=r)}function Ie(t=1,r){if(a.value===!0){let s=S.value;do s=yt(s+t,-1,$.value-1);while(s!==-1&&s!==S.value&&ge.value(e.options[s])===!0);S.value!==s&&(ye(s),Y(s),r!==!0&&e.useInput===!0&&e.fillInput===!0&&Me(s>=0?j.value(e.options[s]):E,!0))}}function Ot(t,r){const s=q=>Be(J.value(q),t);return e.options.find(s)||r.find(s)||t}function Ke(t){const r=J.value(t);return ze.value.find(s=>Be(s,r))!==void 0}function tt(t){e.useInput===!0&&I.value!==null&&(t===void 0||I.value===t.target&&t.target.value===u.value)&&I.value.select()}function lt(t){Ye(t,27)===!0&&a.value===!0&&(xe(t),me(),ke()),n("keyup",t)}function nt(t){const{value:r}=t.target;if(t.keyCode!==void 0){lt(t);return}if(t.target.value="",h!==null&&(clearTimeout(h),h=null),y!==null&&(clearTimeout(y),y=null),ke(),typeof r=="string"&&r.length!==0){const s=r.toLocaleLowerCase(),q=T=>{const K=e.options.find(P=>String(T.value(P)).toLocaleLowerCase()===s);return K===void 0?!1:(i.value.indexOf(K)===-1?ve(K):me(),!0)},z=T=>{q(J)!==!0&&T!==!0&&q(j)!==!0&&be(r,!0,()=>z(!0))};z()}else l.clearValue(t)}function ut(t){n("keypress",t)}function at(t){if(n("keydown",t),ol(t)===!0)return;const r=m.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),s=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(S.value!==-1||r===!0);if(t.keyCode===27){je(t);return}if(t.keyCode===9&&s===!1){we();return}if(t.target===void 0||t.target.id!==l.targetUid.value||l.editable.value!==!0)return;if(t.keyCode===40&&l.innerLoading.value!==!0&&a.value===!1){te(t),Ce();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&m.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?De(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof m.value!="string"||m.value.length===0)&&(te(t),S.value=-1,Ie(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ne.value!==void 0&&(te(t),S.value=Math.max(-1,Math.min($.value,S.value+(t.keyCode===33?-1:1)*ne.value.view)),Ie(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(te(t),Ie(t.keyCode===38?-1:1,e.multiple));const q=$.value;if((_===void 0||F<Date.now())&&(_=""),q>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||_.length!==0)){a.value!==!0&&Ce(t);const z=t.key.toLocaleLowerCase(),T=_.length===1&&_[0]===z;F=Date.now()+1500,T===!1&&(te(t),_+=z);const K=new RegExp("^"+_.split("").map(Ne=>Ul.indexOf(Ne)!==-1?"\\"+Ne:Ne).join(".*"),"i");let P=S.value;if(T===!0||P<0||K.test(j.value(e.options[P]))!==!0)do P=yt(P+1,-1,q-1);while(P!==S.value&&(ge.value(e.options[P])===!0||K.test(j.value(e.options[P]))!==!0));S.value!==P&&ae(()=>{ye(P),Y(P),P>=0&&e.useInput===!0&&e.fillInput===!0&&Me(j.value(e.options[P]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||_!=="")&&(t.keyCode!==9||s===!1))){if(t.keyCode!==9&&te(t),S.value!==-1&&S.value<q){ve(e.options[S.value]);return}if(r===!0){const z=(T,K)=>{if(K){if(kt(K)!==!0)return}else K=e.newValueMode;if(Ae("",e.multiple!==!0,!0),T==null)return;(K==="toggle"?ve:et)(T,K==="add-unique"),e.multiple!==!0&&(I.value!==null&&I.value.focus(),me())};if(e.onNewValue!==void 0?n("newValue",m.value,z):z(m.value),e.multiple!==!0)return}a.value===!0?we():l.innerLoading.value!==!0&&Ce()}}function ot(){return B===!0?le.value:N.value!==null&&N.value.contentEl!==null?N.value.contentEl:void 0}function Tt(){return ot()}function Et(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?fe.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?fe.value.map((t,r)=>w($l,{key:"option-"+r,removable:l.editable.value===!0&&ge.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:G.value,onRemove(){t.removeAtIndex(r)}},()=>w("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:j.value(t.opt)}))):[w("span",{[Se.value===!0?"innerHTML":"textContent"]:D.value})]}function it(){if(R.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:m.value}):void 0;const t=o.option!==void 0?o.option:s=>w(Rl,{key:s.index,...s.itemProps},()=>w(Ll,()=>w(Hl,()=>w("span",{[s.html===!0?"innerHTML":"textContent"]:s.label}))));let r=Ve("div",Fe.value.map(t));return o["before-options"]!==void 0&&(r=o["before-options"]().concat(r)),sl(o["after-options"],r)}function Ft(t,r){const s=r===!0?{...Ee.value,...l.splitAttrs.attributes.value}:void 0,q={ref:r===!0?I:void 0,key:"i_t",class:V.value,style:e.inputStyle,value:m.value!==void 0?m.value:"",type:"search",...s,id:r===!0?l.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...At.value};return t!==!0&&B===!0&&(Array.isArray(q.class)===!0?q.class=[...q.class,"no-pointer-events"]:q.class+=" no-pointer-events"),w("input",q)}function rt(t){h!==null&&(clearTimeout(h),h=null),y!==null&&(clearTimeout(y),y=null),!(t&&t.target&&t.target.qComposing===!0)&&(Me(t.target.value||""),g=!0,E=m.value,l.focused.value!==!0&&(B!==!0||A.value===!0)&&l.focus(),e.onFilter!==void 0&&(h=setTimeout(()=>{h=null,be(m.value)},e.inputDebounce)))}function Me(t,r){m.value!==t&&(m.value=t,r===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",t):y=setTimeout(()=>{y=null,n("inputValue",t)},e.inputDebounce))}function Ae(t,r,s){g=s!==!0,e.useInput===!0&&(Me(t,!0),(r===!0||s!==!0)&&(E=t),r!==!0&&be(t))}function be(t,r,s){if(e.onFilter===void 0||r!==!0&&l.focused.value!==!0)return;l.innerLoading.value===!0?n("filterAbort"):(l.innerLoading.value=!0,c.value=!0),t!==""&&e.multiple!==!0&&i.value.length!==0&&g!==!0&&t===j.value(i.value[0])&&(t="");const q=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);f!==null&&clearTimeout(f),f=q,n("filter",t,(z,T)=>{(r===!0||l.focused.value===!0)&&f===q&&(clearTimeout(f),typeof z=="function"&&z(),c.value=!1,ae(()=>{l.innerLoading.value=!1,l.editable.value===!0&&(r===!0?a.value===!0&&me():a.value===!0?$e(!0):a.value=!0),typeof T=="function"&&ae(()=>{T(d)}),typeof s=="function"&&ae(()=>{s(d)})}))},()=>{l.focused.value===!0&&f===q&&(clearTimeout(f),l.innerLoading.value=!1,c.value=!1),a.value===!0&&(a.value=!1)})}function zt(){return w(Pl,{ref:N,class:b.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&R.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:O.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:He.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...de.value,onScrollPassive:ue,onBeforeShow:ct,onBeforeHide:It,onShow:Mt},it)}function It(t){dt(t),we()}function Mt(){ce()}function Lt(t){xe(t),I.value!==null&&I.value.focus(),A.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Rt(t){xe(t),ae(()=>{A.value=!1})}function Pt(){const t=[w(Dl,{class:`col-auto ${l.fieldClass.value}`,...k.value,for:l.targetUid.value,dark:O.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:m.value.length!==0,...l.splitAttrs.listeners.value,onFocus:Lt,onBlur:Rt},{...o,rawControl:()=>l.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&t.push(w("div",{ref:le,class:b.value+" scroll",style:e.popupContentStyle,...de.value,onClick:je,onScrollPassive:ue},it())),w(Ml,{ref:Z,modelValue:p.value,position:e.useInput===!0?"top":void 0,transitionShow:H,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:ct,onBeforeHide:Ht,onHide:Dt,onShow:Kt},()=>w("div",{class:"q-select__dialog"+(O.value===!0?" q-select__dialog--dark q-dark":"")+(A.value===!0?" q-select__dialog--focused":"")},t))}function Ht(t){dt(t),Z.value!==null&&Z.value.__updateRefocusTarget(l.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),l.focused.value=!1}function Dt(t){me(),l.focused.value===!1&&n("blur",t),ke()}function Kt(){const t=document.activeElement;(t===null||t.id!==l.targetUid.value)&&I.value!==null&&I.value!==t&&I.value.focus(),ce()}function we(){p.value!==!0&&(S.value=-1,a.value===!0&&(a.value=!1),l.focused.value===!1&&(f!==null&&(clearTimeout(f),f=null),l.innerLoading.value===!0&&(n("filterAbort"),l.innerLoading.value=!1,c.value=!1)))}function Ce(t){l.editable.value===!0&&(B===!0?(l.onControlFocusin(t),p.value=!0,ae(()=>{l.focus()})):l.focus(),e.onFilter!==void 0?be(m.value):(R.value!==!0||o["no-option"]!==void 0)&&(a.value=!0))}function me(){p.value=!1,we()}function ke(){e.useInput===!0&&Ae(e.multiple!==!0&&e.fillInput===!0&&i.value.length!==0&&j.value(i.value[0])||"",!0,!0)}function $e(t){let r=-1;if(t===!0){if(i.value.length!==0){const s=J.value(i.value[0]);r=e.options.findIndex(q=>Be(J.value(q),s))}Q(r)}ye(r)}function $t(t,r){a.value===!0&&l.innerLoading.value===!1&&(Q(-1,!0),ae(()=>{a.value===!0&&l.innerLoading.value===!1&&(t>r?Q():$e(!0))}))}function st(){p.value===!1&&N.value!==null&&N.value.updatePosition()}function ct(t){t!==void 0&&xe(t),n("popupShow",t),l.hasPopupOpen=!0,l.onControlFocusin(t)}function dt(t){t!==void 0&&xe(t),n("popupHide",t),l.hasPopupOpen=!1,l.onControlFocusout(t)}function ft(){B=C.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||R.value===!1:!0),H=C.platform.is.ios===!0&&B===!0&&e.useInput===!0?"fade":e.transitionShow}return il(ft),rl(st),ft(),Pe(()=>{h!==null&&clearTimeout(h),y!==null&&clearTimeout(y)}),Object.assign(d,{showPopup:Ce,hidePopup:me,removeAtIndex:De,add:et,toggleOption:ve,getOptionIndex:()=>S.value,setOptionIndex:ye,moveOptionSelection:Ie,filter:be,updateMenuPosition:st,updateInputValue:Ae,isOptionSelected:Ke,getEmittingOptionValue:Ze,isOptionDisabled:(...t)=>ge.value.apply(null,t)===!0,getOptionValue:(...t)=>J.value.apply(null,t),getOptionLabel:(...t)=>j.value.apply(null,t)}),Object.assign(l,{innerValue:i,fieldClass:v(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:he,targetRef:I,hasValue:M,showPopup:Ce,floatingLabel:v(()=>e.hideSelected!==!0&&M.value===!0||typeof m.value=="number"||m.value.length!==0||gt(e.displayValue)),getControlChild:()=>{if(l.editable.value!==!1&&(p.value===!0||R.value!==!0||o["no-option"]!==void 0))return B===!0?Pt():zt();l.hasPopupOpen===!0&&(l.hasPopupOpen=!1)},controlEvents:{onFocusin(t){l.onControlFocusin(t)},onFocusout(t){l.onControlFocusout(t,()=>{ke(),we()})},onClick(t){if(je(t),B!==!0&&a.value===!0){we(),I.value!==null&&I.value.focus();return}Ce(t)}},getControl:t=>{const r=Et(),s=t===!0||p.value!==!0||B!==!0;if(e.useInput===!0)r.push(Ft(t,s));else if(l.editable.value===!0){const z=s===!0?Ee.value:void 0;r.push(w("input",{ref:s===!0?I:void 0,key:"d_t",class:"q-select__focus-target",id:s===!0?l.targetUid.value:void 0,value:D.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...z,onKeydown:at,onKeyup:lt,onKeypress:ut})),s===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&r.push(w("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:nt}))}if(U.value!==void 0&&e.disable!==!0&&ze.value.length!==0){const z=ze.value.map(T=>w("option",{value:T,selected:!0}));r.push(w("select",{class:"hidden",name:U.value,multiple:e.multiple},z))}const q=e.useInput===!0||s!==!0?void 0:l.splitAttrs.attributes.value;return w("div",{class:"q-field__native row items-center",...q,...l.splitAttrs.listeners.value},r)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[w(Le,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:pe.value})]:null}),Vt(l)}});export{Zl as C,en as Q,Rl as a,Pl as b,Ll as c,Hl as d,tn as e};
