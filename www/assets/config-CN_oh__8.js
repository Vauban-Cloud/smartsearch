import{i as r,b as o}from"./i18n-CZWSIRkG.js";import{w as l,r as c}from"./index-qJ404lHB.js";const a=c({});let i=c(null);const d=async()=>{Object.entries(a.value.colors||{}).forEach(([t,e])=>{document.documentElement.style.setProperty(`--q-${t}`,e),document.body.style.setProperty(`--q-${t}`,e)})},u=async()=>{try{const t=new Date().getTime(),e=await o.get(a.value.filesList+`?ts=${t}`,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});return a.value.tabList=e.data,a.value.db=a.value.tabList[0],a.value.tabList}catch(t){throw console.error("Failed to load tab list:",t),a.value.tabList=[],t}},s=async()=>{try{const e=(await o.get("/config.json",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},params:{}})).data;return a.value=e,document.title=a.value.title,document.querySelector('meta[name="description"]').setAttribute("content",a.value.title),d(),await u(),a.value}catch(t){throw console.error("Failed to load configuration:",t),t}},g=async()=>await s(),n=async t=>{try{const e=await o.get(`/intro_${t}.md`,{headers:{"Cache-Control":"max-age=3600",Pragma:"cache"},params:{}});i.value=e.data}catch(e){console.error("Failed to load intro:",e)}},y=async()=>{await s(),l(()=>r.global.locale.value,t=>{n(t)}),n(r.global.locale.value)};export{a as config,y as default,i as introTxt,d as loadCSS,g as reloadConfig};
